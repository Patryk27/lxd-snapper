name: 'lxd-snapper'
version: '0.1'
author: 'Patryk Wychowaniec <wychowaniec.patryk@gmail.com>'
settings: ['ArgRequiredElseHelp']

args:
  - config:
      short: c
      long: config
      value_name: FILE
      takes_value: true
      help: 'Changes path to the configuration file - default: config.yaml'

  - dry-run:
      short: d
      long: dry-run
      help: 'Enables simulated safe-mode, where no changes will be applied to the containers'

subcommands:
  - backup:
      about: 'Creates one snapshot for each container matching the policy'

  - backup-prune:
      about: 'Performs backing-up and pruning (only if backing-up was successful)'

  - nuke:
      about: 'Deletes ALL snapshots from each container matching the policy'

  - prune:
      about: 'Deletes old snapshots from each container matching the policy'

  - validate:
      about: 'Validates syntax of the configuration file'